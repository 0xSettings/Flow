[package]
name = "swiftide-core"
version = "0.31.3"
edition = "2024"
license = "MIT"
description = "Fast, streaming indexing, query, and agentic LLM applications in Rust"
homepage = "https://swiftide.rs"
readme = "README.md"
keywords = ["llm", "rag", "ai", "data", "openai"]
categories = ["asynchronous"]
repository = "https://github.com/bosun-ai/swiftide"
resolver = "2"

[lib]
name = "swiftide_core"
path = "src/lib.rs"

[dependencies]
anyhow = { version = "1.0", default-features = false }
async-trait = { version = "0.1", default-features = false }
backoff = { version = "0.4.0", features = ["futures", "tokio"] }
derive_builder = { version = "0.20", default-features = true }
dyn-clone = { version = "1.0", default-features = false }
futures-util = { version = "0.3", default-features = true }
itertools = { version = "0.14", default-features = true }
lazy_static = { version = "1.5", default-features = false }
metrics = { version = "0.24", optional = true, default-features = false }
mockall = { version = "0.13", optional = true }
pin-project = { version = "1.1", default-features = false }
pretty_assertions = { version = "1.4", optional = true }
qdrant-client = { version = "1.15", features = ["serde"], optional = true, default-features = false }
schemars = { version = "1.0", features = ["derive"], default-features = false }
serde = { version = "1.0", features = ["derive", "std"], default-features = false }
serde_json = { version = "1.0", features = ["std"], default-features = false }
strum = { version = "0.27", default-features = false }
strum_macros = { version = "0.27", default-features = false }
tera = { version = "1.20", default-features = false }
thiserror = { version = "2.0", default-features = false }
tokio = { version = "1.46", features = ["rt-multi-thread", "time", "full"], default-features = false }
tokio-stream = { version = "0.1", features = ["time"], default-features = false }
tracing = { version = "0.1", features = ["log", "attributes"], default-features = false }
uuid = { version = "1.18", features = ["v3", "v4", "serde"], default-features = false }

[dev-dependencies]
test-case = { version = "3.3" }
test-log = { version = "0.2" }
tokio = { version = "1.46", features = ["rt-multi-thread", "time", "test-util"], default-features = false }
tokio-stream = { version = "0.1", features = ["time"], default-features = false }

[features]
defaults = ["truncate-debug"]
json-schema = []
metrics = ["dep:metrics"]
qdrant = ["dep:qdrant-client"]
test-utils = ["dep:mockall", "dep:pretty_assertions"]
truncate-debug = []

[lints.clippy]
blocks_in_conditions = "allow"
missing_fields_in_debug = "allow"
module_name_repetitions = "allow"
multiple_crate_versions = "allow"
must_use_candidate = "allow"

[lints.clippy.cargo]
level = "warn"
priority = -1

[lints.clippy.pedantic]
level = "warn"
priority = -1

[lints.rust]
unsafe_code = "forbid"

[lints.rust.unexpected_cfgs]
level = "warn"
priority = 0
check-cfg = ["cfg(coverage,coverage_nightly)"]

[package.metadata.docs.rs]
all-features = true
cargo-args = ["-Zunstable-options", "-Zrustdoc-scrape-examples"]
rustdoc-args = ["--cfg", "docsrs"]

